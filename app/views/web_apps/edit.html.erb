<% if @web_app.errors.any? %>
	<div class="alert alert-danger">
    <ul>
      <% @web_app.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<h1>アプリ編集画面</h1>
<div class="container">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <%= form_with model: @web_app do |f| %>
        <%= f.hidden_field :user_id, value: current_user.id %>
        <div class="mb-3">
          <%= f.label :title %>
          <%= f.text_field :title, class: 'form-control', id: 'web_app_title' %>
        </div>
        <div class="mb-3">
          <%= f.label :description %>
          <%= f.text_area :description, class: 'form-control', id: 'web_app_description' %>
        </div>
        <div class="mb-3">
          <%= f.label :image %>
          <%= f.file_field :image, class: 'form-control', id: 'web_app_image' %>
          <%= image_tag @web_app.image_url if @web_app.image? %>
          <%= f.hidden_field :web_app_image_cache %>
        </div>
        <%= f.submit "更新", class: 'btn btn-primary', data: { disable_with: "更新" } %>
        <%= link_to "削除", web_app_path(@web_app), data: { turbo_method: :delete }, class: 'btn btn-danger' %>
      <% end %>
    </div>
  </div>
</div>